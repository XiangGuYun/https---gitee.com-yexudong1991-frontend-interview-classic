CSS的 `position` 属性用来确定元素在网页上的定位方式。它有五个可能的值，每一个都有其特定的用途和特点：

### 1. static
- **特点**：这是元素的默认值。元素会按照正常的文档流进行排列，即元素会被置于当前文档流的新的一行。
- **用途**：适用于不需要进行特殊定位的元素。

### 2. relative
- **特点**：元素的定位是相对于它在正常文档流中的位置。即使我们对这个元素应用了 `top`、`right`、`bottom` 和 `left` 属性的改变，它仍然占据着原来的空间。
- **用途**：通常用于需要轻微调整其在正常流中位置的元素。

### 3. absolute
- **特点**：元素的定位是相对于最近的非 `static` 定位的祖先元素。如果没有这样的祖先元素，那么它是相对于**初始包含块**的。
- **用途**：通常用于需要脱离正常文档流并在页面上放置在特定位置的元素。

### 4. fixed
- **特点**：元素的定位是相对于浏览器窗口的，即使窗口滚动，它仍然停留在同一位置。
- **用途**：适用于始终需要展示在视窗某个固定位置的元素，如返回顶部按钮。

### 5. sticky
- **特点**：这是一种混合类型，元素在正常文档流中的位置表现为 `relative`，然后当其块级父元素的块在滚动下超过用于定位的阈值时，表现为 `fixed` 定位。
- **用途**：适用于需要在一定范围内随滚动条滚动而滚动，而在滚动范围之外保持固定位置的元素。

这些 `position` 属性值提供了在布局设计中实现各种定位效果的强大工具，理解它们的不同特性能帮助我们更好的进行页面布局。

***

## 🎭 戏剧之夜：CSS 定位的魔法世界

<div align=center><img src="img/20231011202133.png" width="60%"></div>

### 🎟 1. **Static** —— 观众
观众坐在剧场的座位上，每个人都有固定的、按顺序排列的座位。

> _*观众象征着`static`定位。他们占据自己在正常流（座位排）中的位置，并不关心舞台上的动态。每个人（元素）自然地按照顺序（文档流）坐在他们的位置上。*_

### 🎭 2. **Relative** —— 小丑
小丑在舞台上跑来跑去，闹个不停，但他的帽子总是留在他出现的第一个地方。

> _*小丑象征着`relative`定位。即便小丑（元素）在舞台（页面）上移动（偏移）了，他的帽子（占据的空间）仍然保留在原地（正常文档流中的位置）。*_

### 🚁 3. **Absolute** —— 魔术师
魔术师在一个盒子里消失，并在观众的帽子里神奇地出现。

> _*魔术师象征着`absolute`定位。他在舞台（页面）上的消失和出现（元素的定位）是相对于盒子或帽子（最近的非`static`定位的祖先元素）的，而与其他角色或场景无关。*_

### 🚀 4. **Fixed** —— 飞行的超人
不论观众怎么转动头颅，飞行的超人总是浮现在他们的视线之内。

> _*飞行的超人象征着`fixed`定位。无论观众（视窗）怎样移动（滚动），他始终保持在相同的位置（相对于视窗固定）来拯救世界（内容可见）。*_

### 🌊 5. **Sticky** —— 悬挂的蜘蛛侠
蜘蛛侠在建筑物上爬来爬去，但当坏蛋出现，他就在建筑的一边悬挂着，等待救援。

> _*蜘蛛侠象征着`sticky`定位。他在建筑物（滚动容器）上自由爬行（正常文档流中移动），但在必要时他会坚守一点（成为固定定位）来战斗（保持在一个位置可见）。*_

这个生动的戏剧之夜表演希望能帮助初学者理解CSS中的定位概念！🎭🎉

***

## 追问

### 使元素脱离文档流的position有哪些？

在CSS中，以下几种 `position` 属性的值会使元素脱离文档流：

1. **`absolute`**: 元素脱离了文档流，并相对于最近的已定位父元素进行定位。如果没有已定位的父元素，它会相对于`html`元素定位。

2. **`fixed`**: 元素脱离了文档流，并相对于浏览器窗口进行定位。

这两种定位方式使元素脱离文档流意味着它们不再影响其兄弟元素的位置。这两种定位的元素可以覆盖页面上的其他元素。而其它的 `position` 值（`static`, `relative`, `sticky`）不会使元素脱离文档流。

### 还有哪些方式可以使元素脱离文档流

除了`position`属性的`absolute`和`fixed`值之外，还有一些其他方法可以使元素脱离文档流：

#### 1. `float` 属性
当元素设置了`float: left;`或`float: right;`时，该元素会脱离文档的普通流，变成浮动。浮动元素会根据设置的方向浮动，并且也不占用文档流中的空间，也可能覆盖其他的非浮动元素。

#### 2. `flex` 容器的子元素
虽然使用 `display: flex;` 属性的容器本身仍在文档流中，但它的子元素（flex items）可以进行自由的位置调整，而不受普通文档流的限制。

#### 3. `grid` 容器的子元素
与`flex`类似，使用`display: grid;`的容器本身仍在文档流中，但是你可以在网格内部自由地放置子元素，而不受普通文档流布局的限制。

#### 4. 使用 `transform` 属性
虽然使用`transform`移动的元素技术上还在文档流中，但通过`transform`改变元素位置时，并不会影响到其他元素的布局。

要注意的是，在使用这些方法使元素脱离文档流时，需要谨慎处理元素的定位和覆盖问题，确保不会在页面布局中造成不可预见的问题。

### position的absolute和relative的异同点？

`position` 属性的 `absolute` 和 `relative` 值是 CSS 定位模型中非常核心的两个值，它们在实现布局时有着各自的特色和用途。下面分析一下它们的异同点：

#### 相同点
1. **控制位置**：无论是 `absolute` 还是 `relative`，它们都允许你使用 `top`、`right`、`bottom` 和 `left` 属性来控制元素的位置。
   
#### 不同点
1. **定位基点的差异**：
   - **absolute**：
     - 元素脱离正常的文档流，不占据文档流中的空间。
     - 它会相对于最近的已定位（`position` 除 `static` 外的值）祖先元素进行定位。如果没有已定位的祖先元素，那么它会相对于`<html>`元素定位。
   - **relative**：
     - 元素依然在正常文档流中占据空间。
     - 元素相对于它在正常文档流中的位置进行定位，即便它移动到了一个新的位置，它原本所在的位置仍会保留空间。
     
2. **对子元素的影响**：
   - **absolute**：父元素使用 `absolute` 定位，并不会影响到子元素的布局，除非子元素也使用了绝对定位。
   - **relative**：即便父元素使用了 `relative` 定位，子元素依然会根据父元素未被定位前的位置进行布局。
   
3. **Z轴堆叠**：
   - 使用 `absolute` 和 `relative` 定位的元素都能通过 `z-index` 属性控制堆叠顺序。
   
#### 示例
```html
<div style="position: relative; left: 20px; top: 20px;">
    I am a relative positioned box.
    <div style="position: absolute; left: 20px; top: 20px;">
        I am an absolute positioned box inside a relative positioned box.
    </div>
</div>
```
在这个示例中，内部的 `absolute` 定位盒子将相对于外部的 `relative` 定位盒子进行定位，并且不影响外部盒子以及其他元素在文档流中的位置。