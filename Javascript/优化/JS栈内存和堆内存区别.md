# JS栈内存和堆内存区别

JavaScript中的栈内存和堆内存是其内存管理的两个核心部分。它们的工作方式和用途有所不同。以下是这两者之间的主要区别：

1. **存储类型**：
   - **栈内存（Stack Memory）**：用于存储基本数据类型（如`number`, `string`, `boolean`, `null`, `undefined`）以及函数调用的引用类型的地址。当一个函数被调用时，它的局部变量和一些执行相关的其他信息也会存储在栈内存中。
   - **堆内存（Heap Memory）**：用于存储引用数据类型，如对象（`object`）、数组（`array`）和函数（`function`）。当你创建一个对象或数组时，实际的数据被存储在堆内存中，而栈内存只存储对该对象或数组的引用（即地址）。

2. **内存分配**：
   - **栈内存**：是连续的内存空间，由于存储结构的特性，它支持快速的数据访问。但是，由于其大小是固定的，所以它的空间是有限的。
   - **堆内存**：是不连续的内存空间，可以动态分配内存。这意味着当你需要存储新的对象时，JavaScript引擎会在堆内存中查找可用的空间并分配给它。

3. **内存管理**：
   - **栈内存**：由于栈的后进先出（LIFO）特性，当函数执行完毕后，其栈帧会被自动删除，释放内存。
   - **堆内存**：不会自动释放内存。当对象不再被引用时，它们会被垃圾收集器标记，随后在适当的时候被清除。

4. **性能**：
   - **栈内存**：由于其连续性和固定大小，数据的存储和访问在栈内存中通常更快。
   - **堆内存**：由于需要查找可用的内存空间并可能涉及更多的内存地址跳转，堆内存的数据访问可能相对较慢。

5. **生命周期**：
   - **栈内存**：其中的数据（如局部变量）的生命周期通常很短，当函数执行完毕后，这些数据会被清除。
   - **堆内存**：只要对象仍然被引用，它就会持续存在。一旦不再有引用指向它，它就会成为垃圾，等待被垃圾收集器清除。

理解JavaScript中的栈内存和堆内存的工作原理和区别对于编写高效、无内存泄漏的代码非常有帮助。