# 小程序的生命周期

在小程序中，生命周期函数是非常重要的概念。各个页面和应用本身都有自己的生命周期，即在不同阶段会自动执行的函数。这些函数可以帮助开发者在正确的时机执行相应的逻辑，例如初始化数据、处理清理工作等。

### 小程序的生命周期

以下是小程序整体的生命周期函数：

1. **onLaunch()**
   - 当小程序启动，或从后台进入前台显示时触发。
   - 可以在这个函数中进行全局的初始化设置。

2. **onShow()**
   - 当小程序启动，或从后台进入前台显示时触发。
   - 每次小程序显示都会调用一次。

3. **onHide()**
   - 当小程序从前台进入后台时触发。
   - 可以在这个函数中处理小程序被用户隐藏时的逻辑。

4. **onError()**
   - 当小程序发生脚本错误，或者 API 调用失败时触发。
   - 可用于捕获全局错误，并记录错误日志。

5. **onPageNotFound()**
   - 当打开的页面不存在时触发。
   - 可以用这个方法进行不存在页面的提示或者重定向。

### 页面的生命周期

小程序页面具有自己的生命周期事件，通常包括以下几个阶段：

1. **onLoad()**
   - 页面加载时触发。
   - 一个页面只会调用一次，可以在这里获取页面url传过来的参数。

2. **onShow()**
   - 页面显示时触发。
   - 每次打开页面都会调用一次。

3. **onReady()**
   - 页面首次渲染完成时触发。
   - 一个页面只会调用一次，代表页面已经准备妥当，可以和视图层进行交互。

4. **onHide()**
   - 页面隐藏/切后台时触发。
   - 如 navigateTo 或底部 tab 切换到其他页面，小程序切后台等。

5. **onUnload()**
   - 页面卸载时触发。
   - 如redirectTo或navigateBack到其他页面时。

除此之外，页面还有其他几个处理用户交互的函数，如：`onPullDownRefresh()`、`onReachBottom()`、`onPageScroll()`、`onShareAppMessage()`、`onResize()`、`onTabItemTap()`等，分别对应不同的用户交互场景。

利用好各个生命周期函数，可以帮助开发者更好地控制小程序的行为，实现各种功能和效果。开发者在编写代码时需要仔细考虑在各个生命周期阶段应该执行哪些逻辑代码，以确保小程序的稳定和流畅运行。