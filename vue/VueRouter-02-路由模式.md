## 路由模式

在 Vue Router 中，主要有两种路由模式：`hash` 模式和 `history` 模式。

### 1. **Hash 模式**

Hash 模式通过 URL 的 hash（`#`）来识别路由。当 URL 改变的时候，页面不会重新加载。这是因为浏览器会将 # 及其之后的内容当作 URL 的标识符，并不会发送 HTTP 请求到服务器。这种模式下，你的 URL 可能看起来像这样：

```
http://www.example.com/#/user/id
```

在 Vue Router 的配置中，你可以选择不指定模式来默认使用 Hash 模式，或者明确地选择：

```javascript
const router = new VueRouter({
  mode: 'hash',
  routes: [...]
})
```

### 2. **History 模式**

History 模式利用了 HTML5 History API 来实现 URL 跳转而无须重新加载页面。这种模式下，你的 URL 会更加干净，看起来像普通的 URL：

```
http://www.example.com/user/id
```

要使用 History 模式，你需要在 Vue Router 的配置中指定模式：

```javascript
const router = new VueRouter({
  mode: 'history',
  routes: [...]
})
```

**注意**：使用 History 模式时，需要服务器的支持。因为用户可能直接访问一个深层次的 URL（例如 `/user/id`），这时候，由于没有 `#` 标识，浏览器会向服务器发送请求。因此，服务器需要配置正确的 fallback，以便在匹配不到任何静态资源的时候，都能回退到同一个 HTML 文件（通常是你的 `index.html`）。

简单来说，`hash` 模式和 `history` 模式的区别主要在于 **URL 的表现形式**和**是否需要服务器的配置支持**。在实际的项目中，你可以根据你的需求来选择合适的路由模式。

***

## 比喻法

让我们将路由的`hash`模式和`history`模式比作两种不同的指路方法：

**比喻：邮寄一封信**

### 1. Hash 模式：邮政编码
   - **特点**：邮寄地址包含 "#"（我们称之为邮政编码）以提供额外的导航信息。
   - **示例**：发送到[您的城市#某一区域]。
   - **解释**：在 URL 中使用 "#"，浏览器不会发送`#`后面的内容到服务器，允许我们在客户端独立进行路由管理。
   
### 2. History 模式：精确地址
   - **特点**：邮寄地址精确、直接，不包含 "#"。
   - **示例**：发送到[您的街道，您的门牌号]。
   - **解释**：使用浏览器的 History API 进行干净、美观的URL导航，而服务器需要正确配置，确保所有请求都映射到单一的入口文件。

**综合**：`hash`模式像使用一个通用的邮政编码，在本地解析精确位置；`history`模式像使用一个精确地址，但需要邮局（服务器）的配合以确保每个地址（URL）都能正确传递至目的地（应用）。

## 小剧场

**场景**：小明和小红在邮局寄信，遇到了两种不同的寄送方法。

---

**小剧场：邮局寄信**

👦 **小明**（使用 **Hash 模式**）：我要给爷爷寄一封信。

👧 **小红**（使用 **History 模式**）：我也是，我要给奶奶寄一封信。

👨‍💼 **邮局工作人员**：好的，我们这里有两种寄信方式哦。小明，你先来。

### Hash 模式

👦 **小明**：我选择用邮政编码寄信方法！

👨‍💼 **邮局工作人员**：好的。你就在地址后面加个“#”号，再写区域代码就行。这样即便信件在邮局中转，我们也不会打开看具体地址，因为“#”后面的内容只在最终投递的地方解析。

📝 **小明**：(写下地址) 城市#区域代码

> **Hash 模式解析**：URL 使用 "#" 作为锚点，不会影响服务器路由，只在客户端进行导航切换。

### History 模式

👧 **小红**：我希望用更直接的方法寄信。

👨‍💼 **邮局工作人员**：没问题。你可以直接写明确的地址。不过，要确保这个地址在每个中转站都能被正确理解和找到哦。

📝 **小红**：(写下地址) 街道、门牌号

👨‍💼 **邮局工作人员**：小红，这样的话，我们在投递时会确保沿途的每个站都知道如何处理这个地址，以便它准确抵达！

> **History 模式解析**：URL 是干净的，不带 "#"，服务器在不同的路径下需要配置，确保所有请求都返回单页应用的入口点。

---

**小明和小红通过不同的方式，成功地向祖父母寄出了信件。** 📬✉️🎉 

希望这个小剧场能够生动形象地解释 hash 模式和 history 模式的区别！
